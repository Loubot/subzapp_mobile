// Generated by CoffeeScript 1.10.0
'use strict';
angular.module('subzapp_mobile').controller('AllOrgController', [
  '$scope', '$state', '$http', '$window', '$location', 'message', 'user', 'RESOURCES', function($scope, $state, $http, $window, $location, message, user, RESOURCES) {
    var user_token;
    user_token = window.localStorage.getItem('user_token');
    console.log("All Org Controller");
    user.get_user().then((function(res) {
      return $scope.org = window.USER.org;
    }));
    return $http({
      method: 'GET',
      url: RESOURCES.DOMAIN + "/all-org",
      headers: {
        'Authorization': "JWT " + user_token,
        "Content-Type": "application/json"
      }
    }).then((function(orgs) {
      console.log("All orgs ");
      console.log(orgs);
      return $scope.orgs = orgs.data;
    }), function(errResponse) {
      return console.log("Get all org error " + errResponse);
    });
  }
]);

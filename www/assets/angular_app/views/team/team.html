<ion-view cache-view="false">
  <ion-nav-title>
      {{ team.name }}
  </ion-nav-title>
  <ion-content class="padding">
    <ion-spinner></ion-spinner>
    <div class="container-fluid text-center" >
      <h2 class="white_text">{{ team.main_org.name }}</h2>
      <h4 class="white_text">{{ team.name }}</h4>
      <p ng-hide="is_member">
        Join this team?

      </p>
      
      <a href="" class="btn btn-lg btn-success" ng-hide="is_member" ng-click="join_team(team.id)"><i class="ion-android-person-add"></i> Join </a>

      <div ng-show="is_member">
        You are a member!
      </div>
      <br>
      
    </div>

    <div class="container-fluid" ng-hide="!is_member">
      <div>
        <h4>Upcoming events</h4>
       
        <ul class="example-animate-container">
          <input type="search" ng-model="q" placeholder="filter clubs..." aria-label="filter friends" class="black_text" />
          <br>
          <li class="animate-repeat clearfix org_list" ng-repeat="event in events | filter:q as results">
            <a href="" >[{{$index + 1}}] {{ event.name }}, Time: {{ event.date | date: 'medium' }}. <br>
              Price: {{ event.price }}
            </a><br>
            <a href="" ng-click="pay_up(event.id, event.price)" 
                class="pull-right pay_up btn btn-primary"
                ng-if="users_event_ids.indexOf(event.id) === -1" >Pay and play</a>

            <a href="" 
                class="pull-right pay_up btn btn-xs btn-success"
                ng-if="users_event_ids.indexOf(event.id) !== -1" >Paid</a>

            
          </li>
          <li class="animate-repeat" ng-if="orgs.length == 0">
            <strong>No results found...</strong>
          </li>
        </ul>
      </div>
    </div> <!-- end of container-fluid -->
    
    <div class="message">
        
        
    </div>
  </ion-content>
</ion-view>

